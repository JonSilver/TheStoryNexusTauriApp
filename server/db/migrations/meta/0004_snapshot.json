{
  "version": "6",
  "dialect": "sqlite",
  "id": "1b70a151-2b84-4fa2-bdc5-be638e20fcc7",
  "prevId": "a64946d0-57f8-43f3-b1b6-c7a624f28631",
  "tables": {
    "aiChats": {
      "name": "aiChats",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "storyId": {
          "name": "storyId",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "messages": {
          "name": "messages",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastUsedPromptId": {
          "name": "lastUsedPromptId",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastUsedModelId": {
          "name": "lastUsedModelId",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "chat_story_id_idx": {
          "name": "chat_story_id_idx",
          "columns": [
            "storyId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "aiChats_storyId_stories_id_fk": {
          "name": "aiChats_storyId_stories_id_fk",
          "tableFrom": "aiChats",
          "tableTo": "stories",
          "columnsFrom": [
            "storyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "aiSettings": {
      "name": "aiSettings",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "openaiKey": {
          "name": "openaiKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "openrouterKey": {
          "name": "openrouterKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "availableModels": {
          "name": "availableModels",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lastModelsFetch": {
          "name": "lastModelsFetch",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "localApiUrl": {
          "name": "localApiUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "defaultLocalModel": {
          "name": "defaultLocalModel",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "defaultOpenAIModel": {
          "name": "defaultOpenAIModel",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "defaultOpenRouterModel": {
          "name": "defaultOpenRouterModel",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "chapters": {
      "name": "chapters",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "storyId": {
          "name": "storyId",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "outline": {
          "name": "outline",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "wordCount": {
          "name": "wordCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "povCharacter": {
          "name": "povCharacter",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "povType": {
          "name": "povType",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "chapter_story_id_idx": {
          "name": "chapter_story_id_idx",
          "columns": [
            "storyId"
          ],
          "isUnique": false
        },
        "chapter_order_idx": {
          "name": "chapter_order_idx",
          "columns": [
            "order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "chapters_storyId_stories_id_fk": {
          "name": "chapters_storyId_stories_id_fk",
          "tableFrom": "chapters",
          "tableTo": "stories",
          "columnsFrom": [
            "storyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lorebookEntries": {
      "name": "lorebookEntries",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'story'"
        },
        "scopeId": {
          "name": "scopeId",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isDisabled": {
          "name": "isDisabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "lorebook_level_idx": {
          "name": "lorebook_level_idx",
          "columns": [
            "level"
          ],
          "isUnique": false
        },
        "lorebook_scope_id_idx": {
          "name": "lorebook_scope_id_idx",
          "columns": [
            "scopeId"
          ],
          "isUnique": false
        },
        "lorebook_level_scope_idx": {
          "name": "lorebook_level_scope_idx",
          "columns": [
            "level",
            "scopeId"
          ],
          "isUnique": false
        },
        "lorebook_category_idx": {
          "name": "lorebook_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "lorebook_name_idx": {
          "name": "lorebook_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "notes": {
      "name": "notes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "storyId": {
          "name": "storyId",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "note_story_id_idx": {
          "name": "note_story_id_idx",
          "columns": [
            "storyId"
          ],
          "isUnique": false
        },
        "note_type_idx": {
          "name": "note_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notes_storyId_stories_id_fk": {
          "name": "notes_storyId_stories_id_fk",
          "tableFrom": "notes",
          "tableTo": "stories",
          "columnsFrom": [
            "storyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "prompts": {
      "name": "prompts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "promptType": {
          "name": "promptType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "messages": {
          "name": "messages",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "allowedModels": {
          "name": "allowedModels",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "storyId": {
          "name": "storyId",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isSystem": {
          "name": "isSystem",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "temperature": {
          "name": "temperature",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxTokens": {
          "name": "maxTokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "top_p": {
          "name": "top_p",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "top_k": {
          "name": "top_k",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repetition_penalty": {
          "name": "repetition_penalty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "min_p": {
          "name": "min_p",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "prompt_name_idx": {
          "name": "prompt_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "prompt_type_idx": {
          "name": "prompt_type_idx",
          "columns": [
            "promptType"
          ],
          "isUnique": false
        },
        "prompt_story_id_idx": {
          "name": "prompt_story_id_idx",
          "columns": [
            "storyId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "prompts_storyId_stories_id_fk": {
          "name": "prompts_storyId_stories_id_fk",
          "tableFrom": "prompts",
          "tableTo": "stories",
          "columnsFrom": [
            "storyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "sceneBeats": {
      "name": "sceneBeats",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "storyId": {
          "name": "storyId",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "chapterId": {
          "name": "chapterId",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "command": {
          "name": "command",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "povType": {
          "name": "povType",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "povCharacter": {
          "name": "povCharacter",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "generatedContent": {
          "name": "generatedContent",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accepted": {
          "name": "accepted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "scenebeat_story_id_idx": {
          "name": "scenebeat_story_id_idx",
          "columns": [
            "storyId"
          ],
          "isUnique": false
        },
        "scenebeat_chapter_id_idx": {
          "name": "scenebeat_chapter_id_idx",
          "columns": [
            "chapterId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sceneBeats_storyId_stories_id_fk": {
          "name": "sceneBeats_storyId_stories_id_fk",
          "tableFrom": "sceneBeats",
          "tableTo": "stories",
          "columnsFrom": [
            "storyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sceneBeats_chapterId_chapters_id_fk": {
          "name": "sceneBeats_chapterId_chapters_id_fk",
          "tableFrom": "sceneBeats",
          "tableTo": "chapters",
          "columnsFrom": [
            "chapterId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "series": {
      "name": "series",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "series_name_idx": {
          "name": "series_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "series_created_at_idx": {
          "name": "series_created_at_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "stories": {
      "name": "stories",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "author": {
          "name": "author",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "synopsis": {
          "name": "synopsis",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "seriesId": {
          "name": "seriesId",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isDemo": {
          "name": "isDemo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "title_idx": {
          "name": "title_idx",
          "columns": [
            "title"
          ],
          "isUnique": false
        },
        "created_at_idx": {
          "name": "created_at_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        },
        "story_series_id_idx": {
          "name": "story_series_id_idx",
          "columns": [
            "seriesId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stories_seriesId_series_id_fk": {
          "name": "stories_seriesId_series_id_fk",
          "tableFrom": "stories",
          "tableTo": "series",
          "columnsFrom": [
            "seriesId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}